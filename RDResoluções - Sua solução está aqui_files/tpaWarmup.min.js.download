define("tpaWarmup",["lodash","experiment","warmupUtils"],function(e,t,i){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=921)}({0:function(t,i){t.exports=e},13:function(e,t){e.exports=i},8:function(e,i){e.exports=t},918:function(e,t,i){var n,a;n=[i(0)],void 0===(a=function(e){"use strict";var t={APP:"APP",COMPONENT:"COMPONENT"},i=function(e,t,i){var n=e.getDataByQuery(t,i);return n&&n.content?JSON.parse(n.content):null},n=function(t,n,a,r){if(!e.isEmpty(a)){var d=i(t,a,r);if(d)return e.pick(d,n)}return null};return{SCOPE:t,getValue:function(i,a,r,d){var o=a.data.key,p=a.data.scope,g=void 0;return g=p===t.APP?n(i,o,"tpaData-"+d.applicationId,"masterPage"):n(i,o,e.get(d,"tpaData"),r),e.isEmpty(g)?{error:{message:"key "+o+" not found in "+p+" scope"}}:g},getTpaDataContent:i}}.apply(t,n))||(e.exports=a)},919:function(e){e.exports={APP_IFRAME_START_LOADING:{eventId:642,src:42,params:{widget_id:"widgetId",widget_name:"widgetName",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_LOADED_SUCCESSFULLY:{eventId:643,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_LOADED_PARTIALLY:{eventId:644,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",stage:"stage",stage_number:"stageNum",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}},APP_SDK_START_LOADING:{eventId:645,src:42,params:{widget_id:"widgetId",instance_id:"compId",appId:"appDefinitionId",loading_time:"loadingTime",pid:"pageId",pn:"pageNo",iss:"ssr",tts:"totalLoadingTime",external_app_id:"externalAppDefinitionId",external_widget_id:"externalWidgetId"}}}},920:function(e,t,i){var n,a;n=[i(919),i(0),i(13)],void 0===(a=function(e,t,i){"use strict";return i.loggingUtils.logger.register("tpaWarmup","event",e),e}.apply(t,n))||(e.exports=a)},921:function(e,t,i){var n,a;function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n=[i(0),i(13),i(920),i(918),i(8)],void 0===(a=function(e,t,i,n,a){"use strict";var d,o,p=(r(o={},"14409595-f076-4753-8303-9a86f9f71469",!0),r(o,"14bcded7-0066-7c35-14d7-466cb3f09103",!0),r(o,"14724f35-6794-cd1a-0244-25fd138f9242",r({},"1489040e-001f-4631-55a9-2c29b4417126",!0)),r(o,"1380b703-ce81-ff05-f115-39571d94dfcd",(r(d={},"1380bba0-253e-a800-a235-88821cf3f8a4",!0),r(d,"13a94f09-2766-3c40-4a32-8edb5acdd8bc",!0),r(d,"13afb094-84f9-739f-44fd-78d036adb028",!0),r(d,"13ec3e79-e668-cc0c-2d48-e99d53a213dd",!0),d)),o);function g(t,i,n,a,r,d,o,p){var g=n.getTime(),u={compId:a,pageId:n.getPageId(),pageNo:n.getPageNumber(),ssr:r,loadingTime:g.loadingTime,totalLoadingTime:g.totalLoadingTime};e.get(d,"isWixTPA")?(u.widgetId=o,u.appDefinitionId=e.get(d,"appDefinitionId")):(u.externalWidgetId=o,u.externalAppDefinitionId=e.get(d,"appDefinitionId")),e.merge(u,p),i(t,u)}function u(t,i){var n=e.get(t,"widgetId");if(!n){var a=e.find(i.widgets,["appPage.hidden",!1]);n=e.get(a,"widgetId")}return n}function f(t,i){var n=e.get(t,"appDefinitionId");return!!p[n]&&(!e.isObject(p[n])||p[n][i])}return{tpaDataService:n,events:i,reportPerformanceBiEvent:g,reportWarmupPerformanceBiEvent:function(i,n,a,r){var d=void 0,o=void 0,p=n.getCurrentUrlPageId(),f=e.find(n.pagesData[p].structure[n.getViewMode()],{id:a});if(f){var c=n.getDataByQuery(f.dataQuery);d=u(c,o=n.rendererModel.clientSpecMap[e.get(c,"applicationId")])}var s=e.partial(t.loggingUtils.logger.reportBI,n),l=n.isClientAfterSSR();g(i,s,n.biData,a,l,o,d,r)},isTpaSupportedInWarmup:function(t,i){if(a.isOpen("sv_ssrLoadTpa",t)){var n=t.getCurrentUrlPageId(),r=e.get(t,["pagesData",n,"structure",t.getViewMode()]),d=e.find(r,{id:i});if(d){var o=t.getDataByQuery(d.dataQuery),p=t.rendererModel.clientSpecMap[e.get(o,"applicationId")];if(p)return f(p,u(o,p))}}return!1},isTpaSupported:f}}.apply(t,n))||(e.exports=a)}})});
//# sourceMappingURL=tpaWarmup.min.js.map